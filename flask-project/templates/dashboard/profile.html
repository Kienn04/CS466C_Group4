{% extends "base.html" %}
{% set title = t('nav_profile') %}

{% block content %}
<section class="profile-settings">
    <div class="card">
        <h1>{{ t('profile_heading') }}</h1>
        <div class="profile-grid">
            <form method="post" class="profile-section" novalidate>
                {{ profile_form.hidden_tag() }}
                <label class="input-field">
                    <span>{{ t('profile_name_label') }}</span>
                    {{ profile_form.name(class_='input-control') }}
                    {% if profile_form.name.errors %}
                    <small class="error">{{ profile_form.name.errors[0] }}</small>
                    {% endif %}
                </label>
                {{ profile_form.submit(class_='btn btn-primary', value=t('profile_save')) }}
            </form>

            <form method="post" class="profile-section" enctype="multipart/form-data">
                {{ avatar_form.hidden_tag() }}
                <label class="input-field">
                    <span>{{ t('profile_avatar_label') }}</span>
                    {{ avatar_form.avatar(class_='input-control') }}
                    {% if avatar_form.avatar.errors %}
                    <small class="error">{{ avatar_form.avatar.errors[0] }}</small>
                    {% endif %}
                </label>
                {{ avatar_form.submit(class_='btn btn-primary', value=t('profile_upload')) }}
            </form>

            <form method="post" class="profile-section" novalidate>
                {{ password_form.hidden_tag() }}
                <label class="input-field">
                    <span>{{ t('profile_password_label') }}</span>
                    {{ password_form.current_password(class_='input-control') }}
                </label>
                <label class="input-field">
                    {{ password_form.new_password(class_='input-control', placeholder=t('form_password')) }}
                </label>
                <label class="input-field">
                    {{ password_form.confirm_password(class_='input-control', placeholder=t('form_confirm_password')) }}
                    {% if password_form.confirm_password.errors %}
                    <small class="error">{{ password_form.confirm_password.errors[0] }}</small>
                    {% endif %}
                </label>
                {{ password_form.submit(class_='btn btn-primary', value=t('profile_update_password')) }}
            </form>
        </div>
    </div>
</section>
{% endblock %}
